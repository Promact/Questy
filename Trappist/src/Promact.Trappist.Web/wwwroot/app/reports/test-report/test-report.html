<div class="test-report">
    <div class="test-create-header clearfix">
        <div class="container">
            <h1 class="pull-left">
                <span class="test-name">BBIT 10-08-2017</span>
            </h1>
            <div class="search-area pull-right mt5">
                <input type="text" placeholder="Search reports"  [(ngModel)]="searchString" (keyup)="getTestAttendeeMatchingSearchCriteria(searchString)" [hidden]="!showSearchInput" (blur)="showSearchInput = false" />
                <button type="button" (click)="showSearchInput = true"><i class="material-icons">search</i></button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="report-title-block clearfix">
            <div class="pull-left">
                <h2>Test Report</h2>
                <select class="form-control" [(ngModel)]="typeOfTest" (change)="setTypeOfTest(typeOfTest)">
                    <option value="0">All Candidates ({{count}})</option>
                    <option value="1">Completed Test</option>
                    <option value="2">Expired Test</option>
                    <option value="3">Blocked Test</option>
                </select>
                <button type="button" class="btn">Download Excel</button>
                <button type="button" class="btn">Download PDF</button>
            </div>
            <a class="pull-right back-link mt10" [routerLink]="['/tests']">< back</a>
        </div>
        <div class="grid-container">
            <table class="data-grid"[md2Data]="testAttendeeArray" #report="md2DataTable" [rowsPerPage]="10" [(activePage)]="activePage">
                <thead>
                    <tr>
                        <th><md-checkbox class="only-checkbox" ></md-checkbox></th>
                        <th><em class="material-icons" (click) = "setAllCandidatesStarred(testId)">{{globalStarStatus}}</em></th>
                        <th class="h5" md2SortBy="name">Name</th>
                        <th class="h5" md2SortBy="email">Email</th>
                        <th class="h5" md2SortBy="date">Test Date</th>
                        <th class="h5" md2SortBy="score">Score</th>
                        <th class="h5" md2SortBy="percentage">Percentage</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let testAttendee of report.data;let i = index">
                        <td><md-checkbox class="only-checkbox"></md-checkbox></td>
                        <td><em class="material-icons" (click)="setStarredCandidate(testAttendee)">{{isStarredCandidate(testAttendee)}}</em></td>
                        <td class="theme-text font-semibold">{{testAttendee.firstName}} {{testAttendee.lastName}}</td>
                        <td>{{testAttendee.email}}</td>
                        <td>{{testAttendee.createdDateTime}}</td>
                        <td><em class="material-icons">file_download</em></td>
                        <td class="text-right"><em class="material-icons" [routerLink]="['individual-report']">remove_red_eye</em></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="4">
                            <span class="records-info">Showing {{pageHandling(activePage,count)}} to {{pageHandling2(activePage,count)}} of {{count}} records </span>
                        </td>
                        <td colspan="5">
                            <md2-pagination></md2-pagination>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>
