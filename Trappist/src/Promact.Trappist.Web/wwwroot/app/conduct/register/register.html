<div e2e="progress-loader" class="loader-container" *ngIf="loader">
  <div class="spinner"></div>
</div>
<div class="test-conduct" *ngIf="!loader">
    <test-conduct-header></test-conduct-header>
    <div class="registration-block">
        <form #registrationForm="ngForm">
            <h2>Registration Form</h2>
            <div class="form-group">
                <label>First Name</label><em class="danger-text h4">*</em>
                <input required pattern="^[a-zA-Z_ ]*$" type="text" class="form-control" [(ngModel)]="testAttendees.firstName" name="firstName" #firstName="ngModel" maxlength="255" />
                <div class="errors-container">
                    <span *ngIf="firstName.touched && !firstName.valid && firstName.errors.pattern" class="error-msg">First Name can only contain letters, underscores or spaces.</span>
                    <span *ngIf="firstName.touched && !firstName.valid && firstName.errors.required" class="error-msg">This field is required.</span>
                </div>
            </div>
            <div class="form-group">
                <label>Last Name</label><em class="danger-text h4">*</em>
                <input required pattern="^[a-zA-Z_ ]*$" type="text" class="form-control" [(ngModel)]="testAttendees.lastName" name="lastName" #lastName="ngModel" maxlength="255" />
                <div class="errors-container">
                    <span *ngIf="lastName.touched && !lastName.valid && lastName.errors.pattern" class="error-msg">Last Name can only contain letters, underscores or spaces.</span>
                    <span *ngIf="lastName.touched && !lastName.valid && lastName.errors.required" class="error-msg">This field is required.</span>
                </div>
            </div>
            <div class="form-group">
                <label>Email</label><em class="danger-text h4">*</em>
                <input required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{3}" type="email" class="form-control" [(ngModel)]="testAttendees.email" name="email" #email="ngModel" maxlength="255" />
                <div class="errors-container">
                    <span *ngIf="email.touched && !email.valid && email.errors.pattern" class="error-msg">This Email is invalid.</span>
                    <span *ngIf="email.touched && !email.valid && email.errors.required" class="error-msg">This field is required.</span>
                    <span class="error-msg" *ngIf="isErrorMessage">This Email already exists.</span>
                </div>
            </div>
            <div class="form-group">
                <label>Roll Number</label><em class="danger-text h4">*</em>
                <input required pattern="^[a-zA-Z0-9]*$" type="text" class="form-control" [(ngModel)]="testAttendees.rollNumber" name="rollNumber" #rollNumber="ngModel" />
                <div class="errors-container">
                    <span *ngIf="rollNumber.touched && !rollNumber.valid && rollNumber.errors.pattern" class="error-msg">This Roll Number is invalid.</span>
                    <span *ngIf="rollNumber.touched && !rollNumber.valid && rollNumber.errors.required" class="error-msg">This field is required.</span>
                    <span class="error-msg" *ngIf="isErrorMessage">This Roll Number already exists.</span>
                </div>
            </div>
            <div class="form-group">
                <label>Contact Number</label><em class="danger-text h4">*</em>
                <input required pattern="^[+]?([0-9]{0,15})$" type="text" class="form-control" [(ngModel)]="testAttendees.contactNumber" name="contactNumber" #contactNumber="ngModel" maxlength="15" />
                <div class="errors-container">
                    <span *ngIf="contactNumber.dirty && !contactNumber.valid && contactNumber.errors.pattern" class="error-msg">Contact Number can only contain numbers.</span>
                    <span *ngIf="contactNumber.touched && !contactNumber.valid && contactNumber.errors.required" class="error-msg">This field is required.</span>
                </div>
            </div>
            <div class="text-center">
                <button e2e="submit-btn" type="submit" class="btn btn-primary" [disabled]="!registrationForm.form.valid" (click)="registerTestAttendee()">Submit</button>
            </div>
        </form>
    </div>
    <test-conduct-footer></test-conduct-footer>
</div>
